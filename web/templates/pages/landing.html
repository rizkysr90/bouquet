{{ define "landing-content" }}
<!-- Full-width Hero (aligned content with navbar via container mx-auto px-4) -->
<section class="relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen max-w-none mb-8 min-h-screen flex items-center">
    <!-- Background image -->
    <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('/static/images/hero.jpeg');"></div>
    <!-- Pink gradient overlay (darker for contrast) -->
    <div class="absolute inset-0 bg-gradient-to-r from-primary-900/85 via-primary-800/75 to-primary-600/65"></div>
    <!-- Content aligned with navbar -->
    <div class="relative container mx-auto px-4 py-16 md:py-20">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-12 lg:gap-10">
            <!-- Left: copy (larger typography for 100vh hero) -->
            <div class="flex-1 max-w-3xl">
                <h1 class="text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-5 md:mb-6">{{ if .StoreName }}{{ .StoreName }}{{ else }}Ancaka Florist Supplier{{ end }}</h1>
                <!-- Lead: welcome line -->
                <div class="inline-block max-w-2xl bg-black/30 rounded-lg px-4 py-3 mb-6">
                    <p class="text-xl md:text-2xl font-semibold text-white tracking-tight">
                        Selamat datang di Ancaka Florist Supplier ðŸŒ¸
                    </p>
                </div>
                <!-- Body copy -->
                <div class="max-w-2xl bg-black/30 rounded-lg px-4 py-4 md:px-5 md:py-5 space-y-5 mb-8 md:mb-10">
                    <p class="text-base md:text-lg text-white leading-relaxed">
                        Kami adalah supplier bahan baku florist dan pernak-pernik hiasan pertama di Bekasi, hadir untuk memenuhi kebutuhan para florist, dekorator, dan pelaku usaha kreatif. Menyediakan berbagai pilihan bahan baku berkualitas dengan harga murah karena langsung dari tangan pertama.
                    </p>
                    <p class="text-base md:text-lg text-white leading-relaxed">
                        Kami dipercaya sebagai partner supplier yang profesional, dengan layanan yang fleksibel untuk pembelian grosir maupun ecer. Anda bisa berbelanja dengan mudah melalui pengiriman ke lokasi Anda atau langsung datang ke offline store kami di Bekasi.
                    </p>
                    <p class="text-base md:text-lg text-white font-medium leading-relaxed">
                        Bersama Ancaka Florist Supplier, wujudkan kreasi terbaik Anda dengan bahan berkualitas dan harga bersahabat âœ¨
                    </p>
                </div>
                <div class="flex flex-wrap gap-4">
                    <a href="#products" class="inline-block px-10 py-4 text-lg font-medium rounded-lg bg-white text-primary-600 hover:bg-white/95 transition shadow-lg">
                        Lihat Katalog Produk
                    </a>
                    <a href="#contact" class="inline-block px-10 py-4 text-lg font-medium rounded-lg border-2 border-white text-white hover:bg-white/10 transition">
                        Hubungi Kami
                    </a>
                </div>
            </div>
            <!-- Right: figure images â€” figure1 in the middle, figure2 left, figure3 right -->
            <div class="hidden lg:flex lg:items-center lg:justify-center flex-shrink-0 w-full max-w-lg xl:max-w-2xl">
                <div class="relative h-[400px] xl:h-[480px] 2xl:h-[520px] w-full flex justify-center items-end">
                    <!-- Left: Figure 2 -->
                    <div class="absolute left-0 bottom-0 top-auto w-[42%] xl:w-[44%] transform -rotate-6 transition-transform duration-300 hover:rotate-0 hover:scale-105 hover:z-20 z-0">
                        <div class="rounded-2xl overflow-hidden shadow-2xl ring-2 ring-white/40 bg-white/5 backdrop-blur-sm">
                            <img src="/static/images/figure2.jpeg" alt="" class="w-full h-72 xl:h-80 2xl:h-96 object-cover" loading="lazy">
                        </div>
                    </div>
                    <!-- Middle: Figure 1 (centered, largest, on top) -->
                    <div class="absolute left-1/2 bottom-0 top-auto -translate-x-1/2 w-[52%] xl:w-[54%] z-10 transform transition-transform duration-300 hover:scale-105 hover:z-20">
                        <div class="rounded-2xl overflow-hidden shadow-2xl ring-2 ring-white/50 bg-white/5 backdrop-blur-sm">
                            <img src="/static/images/figure1.jpeg" alt="" class="w-full h-80 xl:h-96 2xl:h-[28rem] object-cover" loading="lazy">
                        </div>
                    </div>
                    <!-- Right: Figure 3 -->
                    <div class="absolute right-0 bottom-0 top-auto w-[42%] xl:w-[44%] transform rotate-6 transition-transform duration-300 hover:rotate-0 hover:scale-105 hover:z-20 z-0">
                        <div class="rounded-2xl overflow-hidden shadow-2xl ring-2 ring-white/40 bg-white/5 backdrop-blur-sm">
                            <img src="/static/images/figure3.jpeg" alt="" class="w-full h-72 xl:h-80 2xl:h-96 object-cover" loading="lazy">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Mobile only: full-width figure photo slider section -->
<section class="lg:hidden bg-gray-50/80">
    <div id="hero-figure-slider" class="w-full">
        <div class="overflow-hidden">
            <div id="hero-slider-track" class="flex transition-transform duration-500 ease-out" style="width: 300%;">
                <div class="w-1/3 flex-shrink-0"><img src="/static/images/figure1.jpeg" alt="" class="w-full aspect-[4/5] object-cover" loading="lazy"></div>
                <div class="w-1/3 flex-shrink-0"><img src="/static/images/figure2.jpeg" alt="" class="w-full aspect-[4/5] object-cover" loading="lazy"></div>
                <div class="w-1/3 flex-shrink-0"><img src="/static/images/figure3.jpeg" alt="" class="w-full aspect-[4/5] object-cover" loading="lazy"></div>
            </div>
        </div>
        <div id="hero-slider-dots" class="flex justify-center gap-2">
            <button type="button" class="hero-slider-dot w-2 h-2 rounded-full bg-primary-400 transition-all duration-300" aria-label="Slide 1" data-index="0"></button>
            <button type="button" class="hero-slider-dot w-2 h-2 rounded-full bg-primary-200 transition-all duration-300" aria-label="Slide 2" data-index="1"></button>
            <button type="button" class="hero-slider-dot w-2 h-2 rounded-full bg-primary-200 transition-all duration-300" aria-label="Slide 3" data-index="2"></button>
        </div>
    </div>
</section>

<!-- Katalog Produk: full-width section, white background, content in container -->
<section class="relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen max-w-none bg-white pt-12 md:pt-16 lg:pt-20 pb-12 md:pb-16 lg:pb-20">
    <div class="container mx-auto px-4">
    <!-- Page Header -->
    <div id="products" class="mb-8 md:mb-10 scroll-mt-4">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Katalog Produk</h2>
        <p class="text-gray-600">Temukan bahan baku buket bunga yang Anda cari</p>
    </div>

    <div class="flex flex-col gap-6">
        <!-- Main Content -->
        <div class="flex-1">
            <!-- Search, Filter and Sort Bar -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6">
                <div class="flex flex-col md:flex-row gap-3">
                    <!-- Search Bar -->
                    <div class="flex-1 relative">
                        <form hx-get="/products/search" hx-target="#product-grid"
                            hx-trigger="keyup changed delay:500ms" class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                            </div>
                            <input type="text" name="q" placeholder="Cari produk atau kode..."
                                value="{{ $.Filters.SearchQuery }}"
                                class="w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition">
                        </form>
                    </div>

                    <!-- Filter Button -->
                    <button type="button" onclick="openFilterModal()"
                        class="flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                        </svg>
                        Filter
                    </button>

                    <!-- Sort Dropdown -->
                    <div class="md:w-56">
                        <form hx-post="/products/filter" hx-target="#product-grid" hx-trigger="change" id="sort-form">
                            <input type="hidden" name="sort" id="sort-value" value="{{ $.Filters.SortBy }}">
                            <div class="relative">
                                <select
                                    onchange="document.getElementById('sort-value').value=this.value; document.getElementById('sort-form').dispatchEvent(new Event('change'))"
                                    class="w-full pl-4 pr-10 py-2.5 text-sm appearance-none border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white cursor-pointer transition">
                                    <option value="newest" {{ if eq $.Filters.SortBy "newest" }}selected{{ end }}>Terbaru</option>
                                    <option value="price_asc" {{ if eq $.Filters.SortBy "price_asc" }}selected{{ end }}>Harga: Rendah ke Tinggi</option>
                                    <option value="price_desc" {{ if eq $.Filters.SortBy "price_desc" }}selected{{ end }}>Harga: Tinggi ke Rendah</option>
                                    <option value="name_asc" {{ if eq $.Filters.SortBy "name_asc" }}selected{{ end }}>Nama: A-Z</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Catalog content: grid + pagination (htmx swaps this whole block on page change) -->
            <div id="catalog-content">
            <div id="product-grid">
                {{ template "partials/product-grid" . }}
            </div>

            <!-- Pagination -->
            {{ if and .Pagination (gt .Pagination.TotalPages 1) }}
            <div class="mt-8 flex justify-center">
                <nav class="flex items-center space-x-2">
                    {{ $currentPage := .Pagination.CurrentPage }}
                    {{ $totalPages := .Pagination.TotalPages }}
                    {{ $prevPage := sub $currentPage 1 }}
                    {{ $nextPage := add $currentPage 1 }}

                    {{ if gt $currentPage 1 }}
                    <a href="?page={{ $prevPage }}" hx-get="?page={{ $prevPage }}" hx-target="#catalog-content" hx-swap="innerHTML"
                        class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">
                        Sebelumnya
                    </a>
                    {{ end }}

                    {{ range $i := (seq 1 $totalPages) }}
                    {{ $showPage := false }}
                    {{ $showEllipsis := false }}
                    {{ if or (eq $i 1) (eq $i $totalPages) }}
                    {{ $showPage = true }}
                    {{ else if and (ge $i (sub $currentPage 2)) (le $i (add $currentPage 2)) }}
                    {{ $showPage = true }}
                    {{ else if or (eq $i (sub $currentPage 3)) (eq $i (add $currentPage 3)) }}
                    {{ $showEllipsis = true }}
                    {{ end }}
                    {{ if $showPage }}
                    <a href="?page={{ $i }}" hx-get="?page={{ $i }}" hx-target="#catalog-content" hx-swap="innerHTML"
                        class="px-4 py-2 border rounded-lg transition {{ if eq $i $currentPage }}bg-primary-600 text-white border-primary-600{{ else }}border-gray-300 hover:bg-gray-50{{ end }}">
                        {{ $i }}
                    </a>
                    {{ else if $showEllipsis }}
                    <span class="px-2 text-gray-400">...</span>
                    {{ end }}
                    {{ end }}

                    {{ if lt $currentPage $totalPages }}
                    <a href="?page={{ $nextPage }}" hx-get="?page={{ $nextPage }}" hx-target="#catalog-content" hx-swap="innerHTML"
                        class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">
                        Selanjutnya
                    </a>
                    {{ end }}
                </nav>
            </div>
            {{ end }}
            </div>
        </div>
    </div>
    </div>
</section>
<!-- End product section -->

<!-- Why Section: full viewport width, pink background, content in container -->
<section class="relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen max-w-none pt-16 md:pt-20 lg:pt-24 pb-16 md:pb-20 lg:pb-24 bg-primary-50 border-t border-primary-100">
    <div class="container mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-10 md:mb-12">Mengapa Memilih Ancaka Florist Supplier?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 lg:gap-10">
            <div class="flex gap-4 md:gap-5 p-5 md:p-6 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1h-1m-1-1V6a1 1 0 011-1h2a1 1 0 011 1v10m-3 1a1 1 0 001 1h1M5 17a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6-1h6"/></svg>
                </div>
                <div class="min-w-0">
                    <p class="font-bold text-gray-900 mb-2">Pengiriman Cepat</p>
                    <p class="text-gray-600 text-sm leading-relaxed">Pengiriman seluruh Indonesia,  instant dan sameday bisa untuk area JABODETABEK.</p>
                </div>
            </div>
            <div class="flex gap-4 md:gap-5 p-5 md:p-6 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/></svg>
                </div>
                <div class="min-w-0">
                    <p class="font-bold text-gray-900 mb-2">Kualitas Terjamin</p>
                    <p class="text-gray-600 text-sm leading-relaxed">Bahan artificial pilihan dengan tampilan elegan untuk setiap momen.</p>
                </div>
            </div>
            <div class="flex gap-4 md:gap-5 p-5 md:p-6 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
                </div>
                <div class="min-w-0">
                    <p class="font-bold text-gray-900 mb-2">Pilihan Lengkap</p>
                    <p class="text-gray-600 text-sm leading-relaxed">Beragam pilihan bunga artifisial, dried flowers, dan beberapa macam perlengkapan dekorasi lainya</p>
                </div>
            </div>
            <div class="flex gap-4 md:gap-5 p-5 md:p-6 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                </div>
                <div class="min-w-0">
                    <p class="font-bold text-gray-900 mb-2">Pelayanan Profesional</p>
                    <p class="text-gray-600 text-sm leading-relaxed">Tim siap bantu dari pemilihan produk hingga pengiriman sesuai kebutuhan Anda.</p>
                </div>
            </div>
            <div class="flex gap-4 md:gap-5 p-5 md:p-6 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <div class="min-w-0">
                    <p class="font-bold text-gray-900 mb-2">Harga Terjangkau</p>
                    <p class="text-gray-600 text-sm leading-relaxed">Kualitas premium dengan harga kompetitif untuk berbagai kebutuhan dan budget.</p>
                </div>
            </div>
            <div class="flex gap-4 md:gap-5 p-5 md:p-6 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
                </div>
                <div class="min-w-0">
                    <p class="font-bold text-gray-900 mb-2">Order Mudah</p>
                    <p class="text-gray-600 text-sm leading-relaxed">Pesan via WhatsApp, respons cepat, proses simpel tanpa ribet.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section: full viewport width, white background, content in container -->
    <section id="contact" class="relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen max-w-none bg-white py-16 md:py-20 lg:py-24 border-t border-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-10 md:mb-12">Hubungi Kami</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-10">
                {{ if .WhatsAppNumber }}
                <a href="https://wa.me/{{ .WhatsAppNumber }}" target="_blank" rel="noopener noreferrer"
                    class="flex gap-4 p-5 md:p-6 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary-200 hover:bg-primary-50/50 transition group">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center text-green-600 group-hover:bg-green-200 transition">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                    </div>
                    <div class="min-w-0">
                        <p class="font-bold text-gray-900 mb-1">WhatsApp</p>
                        <p class="text-gray-600 text-sm">Chat langsung untuk pemesanan</p>
                    </div>
                </a>
                {{ end }}
                {{ if .ShopeeLink }}
                <a href="{{ .ShopeeLink }}" target="_blank" rel="noopener noreferrer"
                    class="flex gap-4 p-5 md:p-6 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary-200 hover:bg-primary-50/50 transition group">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600 group-hover:bg-orange-200 transition">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/></svg>
                    </div>
                    <div class="min-w-0">
                        <p class="font-bold text-gray-900 mb-1">Shopee</p>
                        <p class="text-gray-600 text-sm">Beli di toko kami</p>
                    </div>
                </a>
                {{ end }}
                {{ if .TiktokLink }}
                <a href="{{ .TiktokLink }}" target="_blank" rel="noopener noreferrer"
                    class="flex gap-4 p-5 md:p-6 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary-200 hover:bg-primary-50/50 transition group">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-gray-900 flex items-center justify-center text-white group-hover:opacity-90 transition">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
                    </div>
                    <div class="min-w-0">
                        <p class="font-bold text-gray-900 mb-1">TikTok</p>
                        <p class="text-gray-600 text-sm">Ikuti kami di TikTok</p>
                    </div>
                </a>
                {{ end }}
                {{ if .InstagramLink }}
                <a href="{{ .InstagramLink }}" target="_blank" rel="noopener noreferrer"
                    class="flex gap-4 p-5 md:p-6 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary-200 hover:bg-primary-50/50 transition group">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center text-white group-hover:opacity-90 transition">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                    </div>
                    <div class="min-w-0">
                        <p class="font-bold text-gray-900 mb-1">Instagram</p>
                        <p class="text-gray-600 text-sm">Ikuti kami di Instagram</p>
                    </div>
                </a>
                {{ end }}
                {{ if .StoreAddress }}
                <div class="flex gap-4 p-5 md:p-6 rounded-xl bg-gray-50 border border-gray-100">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                    </div>
                    <div class="min-w-0">
                        <p class="font-bold text-gray-900 mb-1">Alamat Toko</p>
                        <p class="text-gray-600 text-sm">{{ .StoreAddress }}</p>
                    </div>
                </div>
                {{ end }}
            </div>
        </div>
    </section>

    <!-- Filter Modal -->
    <div id="filter-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Backdrop -->
        <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" onclick="closeFilterModal()"></div>

        <!-- Modal -->
        <div class="flex min-h-full items-center justify-center p-4">
            <div class="relative transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all w-full max-w-md max-h-[90vh] flex flex-col">
                <!-- Modal Header -->
                <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200 sticky top-0 bg-white z-10">
                    <h2 class="text-xl font-bold text-gray-900">Filter Produk</h2>
                    <div class="flex items-center gap-3">
                        <button type="button"
                            onclick="document.getElementById('filter-form').reset(); document.getElementById('filter-form').dispatchEvent(new Event('change'))"
                            class="text-sm text-primary-600 hover:text-primary-700 font-medium transition">
                            Reset
                        </button>
                        <button type="button" onclick="closeFilterModal()"
                            class="text-gray-400 hover:text-gray-500 transition">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Modal Body -->
                <div class="px-6 py-4 overflow-y-auto flex-1">
                    <form id="filter-form" hx-post="/products/filter" hx-target="#product-grid"
                        hx-trigger="submit" 
                        class="space-y-0">

                    <!-- Category Filter -->
                    <div class="border-b border-gray-100">
                        <button type="button" onclick="toggleFilterSection('category-filter')" 
                            class="w-full flex items-center justify-between py-4 text-left hover:text-primary-600 transition">
                            <h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide">Kategori</h3>
                            <svg id="category-filter-icon" class="w-5 h-5 text-gray-400 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="category-filter-content" class="pb-5 overflow-hidden transition-all duration-300 ease-in-out">
                            <div class="space-y-2.5">
                                {{ range .Categories }}
                                <label class="group flex items-center space-x-3 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition">
                                    <input type="checkbox" name="category" value="{{ .ID }}"
                                        class="w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer" {{ if and
                                        $.Filters.CategoryID (eq $.Filters.CategoryID .ID) }}checked{{ end }}>
                                    <span class="text-sm text-gray-700 group-hover:text-gray-900 transition">{{ .Name }}</span>
                                </label>
                                {{ end }}
                            </div>
                        </div>
                    </div>

                    <!-- Price Range -->
                    <div class="border-b border-gray-100">
                        <button type="button" onclick="toggleFilterSection('price-filter')" 
                            class="w-full flex items-center justify-between py-4 text-left hover:text-primary-600 transition">
                            <h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide">Rentang Harga</h3>
                            <svg id="price-filter-icon" class="w-5 h-5 text-gray-400 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="price-filter-content" class="pb-5 overflow-hidden transition-all duration-300 ease-in-out">
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1.5">Min (Rp)</label>
                                    <input type="number" name="price_min" placeholder="0" min="0"
                                        value="{{ if $.Filters.MinPrice }}{{ $.Filters.MinPrice }}{{ end }}"
                                        class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-600 mb-1.5">Max (Rp)</label>
                                    <input type="number" name="price_max" placeholder="999999" min="0"
                                        value="{{ if $.Filters.MaxPrice }}{{ $.Filters.MaxPrice }}{{ end }}"
                                        class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Availability -->
                    <div class="border-b border-gray-100">
                        <button type="button" onclick="toggleFilterSection('availability-filter')" 
                            class="w-full flex items-center justify-between py-4 text-left hover:text-primary-600 transition">
                            <h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide">Status</h3>
                            <svg id="availability-filter-icon" class="w-5 h-5 text-gray-400 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="availability-filter-content" class="pb-5 overflow-hidden transition-all duration-300 ease-in-out">
                            <div class="space-y-2.5">
                                <label class="group flex items-center space-x-3 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition">
                                    <input type="radio" name="availability" value="available"
                                        class="w-4 h-4 border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer" {{ if and
                                        $.Filters.IsSold (not (deref $.Filters.IsSold)) }}checked{{ end }}>
                                    <span class="text-sm text-gray-700 group-hover:text-gray-900 transition">Tersedia</span>
                                </label>
                                <label class="group flex items-center space-x-3 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition">
                                    <input type="radio" name="availability" value="soldout"
                                        class="w-4 h-4 border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer" {{ if and
                                        $.Filters.IsSold (deref $.Filters.IsSold) }}checked{{ end }}>
                                    <span class="text-sm text-gray-700 group-hover:text-gray-900 transition">Habis</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Sale Filter -->
                    <div class="border-b border-gray-100">
                        <button type="button" onclick="toggleFilterSection('sale-filter')" 
                            class="w-full flex items-center justify-between py-4 text-left hover:text-primary-600 transition">
                            <h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide">Produk Sale</h3>
                            <svg id="sale-filter-icon" class="w-5 h-5 text-gray-400 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="sale-filter-content" class="pb-5 overflow-hidden transition-all duration-300 ease-in-out">
                            <label class="group flex items-center space-x-3 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition">
                                <input type="checkbox" name="sale" value="true"
                                    class="w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer" {{ if and
                                    $.Filters.IsSale (deref $.Filters.IsSale) }}checked{{ end }}>
                                <span class="text-sm font-medium text-gray-700 group-hover:text-gray-900 transition">
                                    <span class="inline-block px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-semibold mr-2">SALE</span>
                                    Tampilkan produk sale
                                </span>
                            </label>
                        </div>
                    </div>
                    </form>
                </div>

                <!-- Modal Footer -->
                <div class="px-6 py-4 border-t border-gray-200 sticky bottom-0 bg-white">
                    <button type="submit" form="filter-form"
                        class="w-full px-4 py-2.5 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                        Terapkan Filter
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Initialize filter sections (collapsed by default)
    function initializeFilterSections() {
        const sections = ['category-filter', 'price-filter', 'availability-filter', 'sale-filter'];
        sections.forEach(sectionId => {
            const content = document.getElementById(sectionId + '-content');
            const icon = document.getElementById(sectionId + '-icon');
            
            if (content && icon) {
                // Set initial collapsed state
                content.style.maxHeight = '0px';
                content.style.paddingBottom = '0px';
                content.setAttribute('data-expanded', 'false');
                icon.style.transform = 'rotate(0deg)';
            }
        });
    }

    // Modal open/close functionality
    function openFilterModal() {
        const modal = document.getElementById('filter-modal');
        if (modal) {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
            // Initialize filter sections as collapsed when modal opens
            initializeFilterSections();
        }
    }

    function closeFilterModal() {
        const modal = document.getElementById('filter-modal');
        if (modal) {
            modal.classList.add('hidden');
            document.body.style.overflow = ''; // Restore scrolling
        }
    }

    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeFilterModal();
        }
    });

    // Close modal after filter form is submitted successfully
    document.body.addEventListener('htmx:afterRequest', function(event) {
        // Check if the request was from the filter form and was successful
        const form = event.detail.elt;
        if (form && form.id === 'filter-form' && 
            event.detail.xhr && event.detail.xhr.status === 200) {
            closeFilterModal();
        }
    });

    // Filter section toggle functionality
    function toggleFilterSection(sectionId) {
        const content = document.getElementById(sectionId + '-content');
        const icon = document.getElementById(sectionId + '-icon');
        
        if (!content || !icon) return;
        
        // Check if currently expanded by checking if maxHeight is set and not '0px'
        const isExpanded = content.style.maxHeight && content.style.maxHeight !== '0px' && content.style.maxHeight !== '';
        
        if (isExpanded) {
            // Collapse
            content.style.maxHeight = '0px';
            content.style.paddingBottom = '0px';
            content.style.marginBottom = '0px';
            icon.style.transform = 'rotate(0deg)';
            content.setAttribute('data-expanded', 'false');
        } else {
            // Expand - first set to scrollHeight to measure, then animate
            content.style.maxHeight = content.scrollHeight + 'px';
            content.style.paddingBottom = '1.25rem';
            content.style.marginBottom = '0px';
            icon.style.transform = 'rotate(180deg)';
            content.setAttribute('data-expanded', 'true');
        }
    }
    
    // Hero figure slider (mobile): auto-advance and dot controls
    function initHeroFigureSlider() {
        var track = document.getElementById('hero-slider-track');
        var dots = document.querySelectorAll('#hero-slider-dots .hero-slider-dot');
        if (!track || !dots.length) return;
        var index = 0;
        var total = 3;
        function goTo(i) {
            index = ((i % total) + total) % total;
            track.style.transform = 'translateX(-' + (index * 100 / 3) + '%)';
            dots.forEach(function(dot, j) {
                dot.classList.toggle('bg-primary-400', j === index);
                dot.classList.toggle('bg-primary-200', j !== index);
                dot.classList.toggle('w-2', j !== index);
                dot.classList.toggle('w-3', j === index);
            });
        }
        dots.forEach(function(dot) {
            dot.addEventListener('click', function() { goTo(parseInt(dot.getAttribute('data-index'), 10)); });
        });
        setInterval(function() { goTo(index + 1); }, 4000);
    }

    // Initialize filter sections as collapsed on page load
    document.addEventListener('DOMContentLoaded', function() {
        initializeFilterSections();
        initHeroFigureSlider();
    });
</script>
{{ end }}

{{ define "pages/landing" }}
{{/* Empty template - content is rendered by layout based on ContentBlock */}}
{{ end }}